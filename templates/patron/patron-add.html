<section class="beta">
    <div class="col-xs-12">
        <button type="button" class="btn close quinary" ng-click="onRoute('patron')">&times;</button>
        <h3 class="text-left-xs text-left-sm text-center">New Patron</h3>
    </div>
    <div class="col-xs-12">
        <form ng-submit="onPatronRegistration()" class="counter-form" data-toggle="validator" role="form" name="addPatronForm" ng-init="pCtrl.initAddPatron()">
            <div class="form-group" show-errors>
                <input type="text" id="patron-first-name" name="firstName" class="form-control" pattern="^[_A-z]{1,}$" placeholder="Frist Name *" ng-model="patronModel.first_name" required>
                <div class="help-block" ng-if="addPatronForm.firstName.$error.required">First name is required</div>
                <div class="help-block" ng-if="addPatronForm.firstName.$error && !addPatronForm.firstName.$error.required">First name contains invalid characters</div>
            </div>
            <div class="form-group" show-errors>
                <input type="text" class="form-control" name="lastName" placeholder="Last Name *" pattern="^[_A-z]{1,}$" ng-model="patronModel.last_name" required>
                <div class="help-block" ng-if="addPatronForm.lastName.$error.required">Last name is required</div>
                <div class="help-block" ng-if="addPatronForm.lastName.$error && !addPatronForm.lastName.$error.required">Last name contains invalid characters</div>
            </div>
            <div class="form-group" show-errors>
                <input type="email" class="form-control" name="emailAddress" placeholder="Enter email *" ng-model="patronModel.email_address" required>
                <div class="help-block" ng-if="addPatronForm.emailAddress.$error.required">Email address is required</div>
                <div class="help-block" ng-if="addPatronForm.emailAddress.$error && !addPatronForm.emailAddress.$error.required">Email address is invalid</div>
            </div>
            <div class="form-group" show-errors>
                <input type="password" data-minlength="6" class="form-control" name="password" placeholder="Enter password *" ng-model="patronModel.password" required>
                <div class="help-block" ng-if="addPatronForm.password.$error.required">Password is required</div>
                <div class="help-block" ng-if="addPatronForm.password.$error && !addPatronForm.password.$error.required">Not long enough</div>
            </div>
            <div class="form-group" show-errors>
                <input type="password" data-minlength="6" class="form-control" name="passwordConfirm" placeholder="Enter password again *" ng-model="patronModel.password_confirm" required>
                <div class="help-block" ng-if="addPatronForm.passwordConfirm.$error.required">Password confirm is required</div>
                <div class="help-block" ng-if="addPatronForm.passwordConfirm.$error && !addPatronForm.passwordConfirm.$error.required">Not long enough</div>
            </div>
            <div class="row">
                <div class="form-group col-xs-12 col-md-6" show-errors>
                    <div class="input-group counter-group">
                        <div class="input-group-addon">Date of birth</div>
                        <input type="date" class="form-control" max="{{minAge | date:'yyyy-MM-dd'}}" name="dateOfBirth" placeholder="date of birth" ng-model="patronModel.dob" required/>
                    </div>
                    <div class="help-block" ng-if="addPatronForm.dateOfBirth.$error.required">Date of birth is required</div>
                </div>
                <div class="form-group col-xs-12 col-md-6" show-errors>
                    <div class="input-group counter-group">
                        <div class="input-group-addon">Phone</div>
                        <input type="number" class="form-control"  name="phone" placeholder="" ng-model="patronModel.phone"/>
                    </div>
                    <div class="help-block" ng-if="addPatronForm.phone.$error">Phone number is not correct</div>
                </div>
            </div>
            <fieldset class="counter-widget">
                <legend>Address</legend>
                <button class="btn senary add" ng-click="pCtrl.onAddAddress()" ng-show="!addressModel.street_number" type="button"><i class="glyphicon glyphicon-plus"></i></button>
                <div class="col-xs-12">&nbsp;</div>
            </fieldset>
            <div class="col-xs-12">&nbsp;</div>
            <div class="row">
                <div class="form-group col-xs-12 col-sm-6" show-errors>
                    <input type="text" class="form-control" name="address1" placeholder="street number" ng-model="addressModel.street_number" />
                    <div class="help-block" ng-if="addPatronForm.address1.$error">Address is required</div>
                </div>
                <div class="form-group col-xs-12 col-sm-6" show-errors>
                    <input type="text" class="form-control" name="route" placeholder="street name" ng-model="addressModel.route" />
                    <div class="help-block" ng-if="addPatronForm.route.$error">Address is required</div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-xs-12" show-errors>
                    <input type="text" class="form-control" name="city" placeholder="city" ng-model="addressModel.locality" />
                    <div class="help-block" ng-if="addPatronForm.city.$error">Address is required</div>
                </div>
                <div class="form-group col-xs-12" show-errors>
                    <input type="text" class="form-control" name="state" placeholder="state" ng-model="addressModel.administrative_area_level_1" />
                    <div class="help-block" ng-if="addPatronForm.state.$error">Address is required</div>
                </div>
            </div>
            <!--             <div class="form-group" show-errors>
                <input type="text" class="form-control" name="county" placeholder="county" ng-model="addressModel.administrative_area_level_2" />
                <div class="help-block" ng-if="addPatronForm.county.$error">Address is required</div>
            </div> -->
            <div class="row">
                <div class="form-group col-xs-12 col-sm-6" show-errors>
                    <input type="text" class="form-control" name="country" placeholder="country" ng-model="addressModel.country" />
                    <div class="help-block" ng-if="addPatronForm.country.$error">Address is required</div>
                </div>
                <div class="form-group col-xs-12 col-sm-6" show-errors>
                    <input type="text" class="form-control" name="postal_code" placeholder="postal code" ng-model="addressModel.postal_code" />
                    <div class="help-block" ng-if="addPatronForm.postal_code.$error">Address is required</div>
                </div>
            </div>
            <div class="row">
                <h3 class="col-xs-12">Organization</h3>
            </div>
            <div class="form-group" show-errors>
                <input id="organization" type="text" class="form-control" name="organization" placeholder="Organization *" ng-model="patronModel.organization_name" required disabled>
                <div class="help-block" ng-if="addPatronForm.organization.$error.required">Organization is required</div>
            </div>
            <div class="form-group">
                <div class="col-xs-3">&nbsp;</div>
                <button class="btn col-xs-6 primary" ng-disabled="addPatronForm.$invalid">Submit</button>
                <div class="col-xs-3">&nbsp;</div>
            </div>
        </form>
        <div class="col-xs-12">&nbsp;</div>
    </div>
</section>
